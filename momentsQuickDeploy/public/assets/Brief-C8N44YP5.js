import{h as _,c as u,o as n,a as e,y as N,u as S,z,s as l,f as V,i as A,j as M,x as v,B as m,b as p,w as b,C as B,k as y,m as r,I as x,n as I,_ as H,t as $,d as E}from"./index-DC8TisQv.js";import{U}from"./UserCircleRegular-BCEMIIOK.js";const j={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},D=_({name:"Camera",render:function(c,o){return n(),u("svg",j,o[0]||(o[0]=[e("path",{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120s53.8 120 120 120s120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88s39.5-88 88-88s88 39.5 88 88z",fill:"currentColor"},null,-1)]))}}),q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},O=_({name:"Hive",render:function(c,o){return n(),u("svg",q,o[0]||(o[0]=[e("path",{d:"M260.353 254.878L131.538 33.1a2.208 2.208 0 0 0-3.829.009L.3 254.887a2.234 2.234 0 0 0 0 2.235L129.116 478.9a2.208 2.208 0 0 0 3.83-.009l127.412-221.778a2.239 2.239 0 0 0-.005-2.235zm39.078-25.713a2.19 2.19 0 0 0 1.9 1.111h66.509a2.226 2.226 0 0 0 1.9-3.341L259.115 33.111a2.187 2.187 0 0 0-1.9-1.111h-66.508a2.226 2.226 0 0 0-1.9 3.341zM511.7 254.886L384.9 33.112A2.2 2.2 0 0 0 382.99 32h-66.6a2.226 2.226 0 0 0-1.906 3.34L440.652 256L314.481 476.66a2.226 2.226 0 0 0 1.906 3.34h66.6a2.2 2.2 0 0 0 1.906-1.112L511.7 257.114a2.243 2.243 0 0 0 0-2.228zm-145.684 30.031h-66.508a2.187 2.187 0 0 0-1.9 1.111l-108.8 190.631a2.226 2.226 0 0 0 1.9 3.341h66.509a2.187 2.187 0 0 0 1.9-1.111l108.8-190.631a2.226 2.226 0 0 0-1.901-3.341z",fill:"currentColor"},null,-1)]))}}),P={class:"header"},R={class:"background"},T=["src"],F=["src"],G={class:"top-bar-wrapper"},J={class:"top-bar-left"},K={class:"top-bar-right"},Q={class:"link"},L="/img/background.mp4",W=_({__name:"Header",setup(f){const c=N(),o=S(),h=z(),d=l(()=>h.configs.site_header_background||L),g=l(()=>{const a=["jpg","png","webp","svg","gif"],t=d.value.split(".").pop()?.toLowerCase();return t?a.includes(t):!1}),w=l(()=>{const a=["mp4","webm","ogg","mov"],t=d.value.split(".").pop()?.toLowerCase();return t?a.includes(t):!1}),s=V(!1);let i=null;A(()=>{const a=document.querySelector(".header");a&&(i=new IntersectionObserver(t=>{const C=t[0];s.value=!C.isIntersecting},{root:null,threshold:0}),i.observe(a))}),M(()=>{i&&i.disconnect()});const k=l(()=>!!o.token);return(a,t)=>(n(),u("div",P,[e("div",R,[g.value?(n(),u("img",{key:0,src:d.value,alt:"顶部图片"},null,8,T)):w.value?(n(),u("video",{key:1,src:d.value,autoplay:"",muted:"",loop:"",playsinline:""},null,8,F)):(n(),u("video",{key:2,src:L,autoplay:"",muted:"",loop:"",playsinline:""}))]),e("div",G,[e("div",{class:v(["top-bar",{blurred:s.value}])},[e("div",J,[m(a.$slots,"left",{isBlurred:s.value},()=>[p(r(x),{class:v(["icon",{blurred:s.value}])},{default:b(()=>[k.value?y("",!0):(n(),B(r(U),{key:0,onClick:r(c).showAuth},null,8,["onClick"]))]),_:1},8,["class"])],!0)]),e("div",K,[m(a.$slots,"right",{isBlurred:s.value},()=>[e("div",{class:"addArticle",onClick:t[0]||(t[0]=C=>r(I).push({name:"post"}))},[k.value?(n(),B(r(x),{key:0,class:v(["icon",{blurred:s.value}])},{default:b(()=>[p(r(D))]),_:1},8,["class"])):y("",!0)]),e("div",Q,[p(r(x),{class:v(["icon",{blurred:s.value}])},{default:b(()=>[p(r(O))]),_:1},8,["class"])])],!0)])],2)])]))}}),ne=H(W,[["__scopeId","data-v-c996481f"]]),X={class:"brief"},Y={class:"brief-img"},Z=["src"],ee="瞬刻",se="/img/avatar.jpg",te="更简洁、更现代化的内容发布平台",oe=_({__name:"Brief",setup(f){const c=z(),o=S(),h=l(()=>c.configs.sitename||ee),d=l(()=>c.configs.site_avatar||se),g=l(()=>c.configs.site_brief||te),w=l(()=>o.profile?.username??"admin");return(s,i)=>(n(),u("div",X,[e("div",Y,[m(s.$slots,"brief-img",{},()=>[e("span",null,$(h.value),1),e("img",{src:d.value,alt:"avatar",onClick:i[0]||(i[0]=k=>r(I).push(`/home/${w.value}`))},null,8,Z)],!0)]),e("p",null,[m(s.$slots,"brief-content",{},()=>[E($(g.value),1)],!0)])]))}}),le=H(oe,[["__scopeId","data-v-1377332d"]]);export{le as B,ne as H};
