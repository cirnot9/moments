import{h as p,j as c,q as n,k as e,D as I,u as z,y as i,r as A,o as H,i as M,B as m,E as h,s as _,A as k,G as C,m as B,p as l,I as b,v as L,_ as S,t as $,C as N}from"./index-CbEmHIhb.js";const V={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},E=p({name:"Camera",render:function(t,s){return n(),c("svg",V,s[0]||(s[0]=[e("path",{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120s53.8 120 120 120s120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88s39.5-88 88-88s88 39.5 88 88z",fill:"currentColor"},null,-1)]))}}),U={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},j=p({name:"Hive",render:function(t,s){return n(),c("svg",U,s[0]||(s[0]=[e("path",{d:"M260.353 254.878L131.538 33.1a2.208 2.208 0 0 0-3.829.009L.3 254.887a2.234 2.234 0 0 0 0 2.235L129.116 478.9a2.208 2.208 0 0 0 3.83-.009l127.412-221.778a2.239 2.239 0 0 0-.005-2.235zm39.078-25.713a2.19 2.19 0 0 0 1.9 1.111h66.509a2.226 2.226 0 0 0 1.9-3.341L259.115 33.111a2.187 2.187 0 0 0-1.9-1.111h-66.508a2.226 2.226 0 0 0-1.9 3.341zM511.7 254.886L384.9 33.112A2.2 2.2 0 0 0 382.99 32h-66.6a2.226 2.226 0 0 0-1.906 3.34L440.652 256L314.481 476.66a2.226 2.226 0 0 0 1.906 3.34h66.6a2.2 2.2 0 0 0 1.906-1.112L511.7 257.114a2.243 2.243 0 0 0 0-2.228zm-145.684 30.031h-66.508a2.187 2.187 0 0 0-1.9 1.111l-108.8 190.631a2.226 2.226 0 0 0 1.9 3.341h66.509a2.187 2.187 0 0 0 1.9-1.111l108.8-190.631a2.226 2.226 0 0 0-1.901-3.341z",fill:"currentColor"},null,-1)]))}}),q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 496 512"},D=p({name:"UserCircleRegular",render:function(t,s){return n(),c("svg",q,s[0]||(s[0]=[e("path",{d:"M248 104c-53 0-96 43-96 96s43 96 96 96s96-43 96-96s-43-96-96-96zm0 144c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48zm0-240C111 8 0 119 0 256s111 248 248 248s248-111 248-248S385 8 248 8zm0 448c-49.7 0-95.1-18.3-130.1-48.4c14.9-23 40.4-38.6 69.6-39.5c20.8 6.4 40.6 9.6 60.5 9.6s39.7-3.1 60.5-9.6c29.2 1 54.7 16.5 69.6 39.5c-35 30.1-80.4 48.4-130.1 48.4zm162.7-84.1c-24.4-31.4-62.1-51.9-105.1-51.9c-10.2 0-26 9.6-57.6 9.6c-31.5 0-47.4-9.6-57.6-9.6c-42.9 0-80.6 20.5-105.1 51.9C61.9 339.2 48 299.2 48 256c0-110.3 89.7-200 200-200s200 89.7 200 200c0 43.2-13.9 83.2-37.3 115.9z",fill:"currentColor"},null,-1)]))}}),R={class:"header"},G={class:"background"},O=["src"],P=["src"],T={class:"top-bar-wrapper"},F={class:"top-bar-left"},J={class:"top-bar-right"},K={class:"link"},y="/img/background.mp4",Q=p({__name:"Header",setup(v){const t=I(),s=z(),d=i(()=>s.profile?.header_background||y),f=i(()=>{const a=["jpg","png","webp","svg","gif"],o=d.value.split(".").pop()?.toLowerCase();return o?a.includes(o):!1}),g=i(()=>{const a=["mp4","webm","ogg","mov"],o=d.value.split(".").pop()?.toLowerCase();return o?a.includes(o):!1}),r=A(!1);let u=null;H(()=>{const a=document.querySelector(".header");a&&(u=new IntersectionObserver(o=>{const x=o[0];r.value=!x.isIntersecting},{root:null,threshold:0}),u.observe(a))}),M(()=>{u&&u.disconnect()});const w=i(()=>!!s.token);return(a,o)=>(n(),c("div",R,[e("div",G,[f.value?(n(),c("img",{key:0,src:d.value,alt:"顶部图片"},null,8,O)):g.value?(n(),c("video",{key:1,src:d.value,autoplay:"",muted:"",loop:"",playsinline:""},null,8,P)):(n(),c("video",{key:2,src:y,autoplay:"",muted:"",loop:"",playsinline:""}))]),e("div",T,[e("div",{class:m(["top-bar",{blurred:r.value}])},[e("div",F,[h(a.$slots,"left",{isBlurred:r.value},()=>[_(l(b),{class:m(["icon",{blurred:r.value}])},{default:k(()=>[w.value?B("",!0):(n(),C(l(D),{key:0,onClick:l(t).showAuth},null,8,["onClick"]))]),_:1},8,["class"])],!0)]),e("div",J,[h(a.$slots,"right",{isBlurred:r.value},()=>[e("div",{class:"addArticle",onClick:o[0]||(o[0]=x=>l(L).push({name:"post"}))},[w.value?(n(),C(l(b),{key:0,class:m(["icon",{blurred:r.value}])},{default:k(()=>[_(l(E))]),_:1},8,["class"])):B("",!0)]),e("div",K,[_(l(b),{class:m(["icon",{blurred:r.value}])},{default:k(()=>[_(l(j))]),_:1},8,["class"])])],!0)])],2)])]))}}),oe=S(Q,[["__scopeId","data-v-f4c2a2d7"]]),W={class:"brief"},X={class:"brief-img"},Y=["src"],Z="瞬刻",ee="/img/avatar.jpg",se="更简洁、更现代化的内容发布平台",te=p({__name:"Brief",setup(v){const t=z(),s=i(()=>t.profile?.nickname||t.profile?.username||Z),d=i(()=>t.profile?.avatar||ee),f=i(()=>t.profile?.brief||se),g=i(()=>t.profile?.username??"admin");return(r,u)=>(n(),c("div",W,[e("div",X,[h(r.$slots,"brief-img",{},()=>[e("span",null,$(s.value),1),e("img",{src:d.value,alt:"avatar",onClick:u[0]||(u[0]=w=>l(L).push(`/home/${g.value}`))},null,8,Y)],!0)]),e("p",null,[h(r.$slots,"brief-content",{},()=>[N($(f.value),1)],!0)])]))}}),ne=S(te,[["__scopeId","data-v-5b6871bb"]]);export{ne as B,oe as H};
